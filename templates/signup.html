{% extends "base.html" %}
{% block content %}
<h2 class="text-xl font-semibold mb-4">Sign Up</h2>
<form method="POST">
    <input type="email" name="email" required placeholder="Email" class="block w-full mb-2 p-2 border rounded">

    <input type="password" name="password" required placeholder="Password" class="block w-full mb-2 p-2 border rounded">

    <input type="password" name="confirm_password" required placeholder="Confirm Password" class="block w-full mb-4 p-2 border rounded">

    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded w-full">Sign Up</button>
</form>
{% if error %}
    <div style="color: red; padding: 10px; border: 1px solid red;">
        {{ error }}
    </div>
    {% endif %}
    
    {% if qr_code %}
    <div style="margin-top: 20px;">
        <h3>Scan this QR Code:</h3>
        <img src="data:image/png;base64,{{ qr_code }}" 
             alt="2FA QR Code" 
             style="border: 2px solid #333; padding: 10px;">
        <div style="margin-top: 15px;">
            <p>Or enter this secret manually: <strong>{{ totp_secret }}</strong></p>
        </div>
    </div>
    {% endif %}
<p class="mt-4 text-sm text-center">
    Already have an account? <a class="text-blue-500 underline" href="{{ url_for('login') }}">Login</a>
</p>
{% endblock %}
